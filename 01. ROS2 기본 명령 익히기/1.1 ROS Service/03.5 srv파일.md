srv라는 확장명을 가진 파일들은 ROS Service에서 아주 중요한 파일들이다. (서비스를 정의하는 파일이니까 중요할만 하다)

![[06.jpg]]

보이는 것처럼 클라이언트가 서버와 통신하는데 중간 관리자로 서비스가 존재한다.

이때 서비스(`[service_name]`)을 경유하는데 서비스 정의는 srv 확장명을 가진 파일에 저장된다. 보통 해당 패키지의 srv 폴더에 둔다.

### 1. srv파일 구조
---
```
float32 x
float32 y
float32 theta
---
// Response
```

srv 파일은 대시(-) 기호를 연달아 세 번 사용하는 구분자를 기준으로 다음처럼 위, 아래로 나뉜다. 

이때 (---) 구분자의 윗부분은 서비스를 요청할 떄의 데이터를 선언하고, 그 아랫부분은 서비스 서버가 응답할떄의 데이터를 선언해둔다.

![[07.jpg|300]]

위 파일은 teleport_absolute 서비스의 정의 파일이다.

teleport_absolute 서비스를 요청하고 싶다면 요청 조건은 `float32 x, float32 y, float32 theta` 이므로 이 데이터 세 개를 주어야 한다. 그래야 서비스를 요청받을 수 있다. 

그리고 응답을 하는 response 영역을 turtlesim을 단지 옮기는 역할을 하는 teleport_absolute 서비스에서는 필요 없다고 느껴서 비어있다. 코딩 관점으로 보면 return값이 없는 함수이다. 


### 2. srv 파일을 확인하는 명령어
---
```
ros2 interface show <interface_type>
```

`ros2 interface show` 명령어는 ROS2 (Robot Operating System 2)에서 특정 메시지, 서비스, 또는 액션 인터페이스의 세부 사항을 표시하는 데 사용된다. 이 명령어는 인터페이스의 구조와 해당 필드를 보여주어, 개발자가 ROS2 시스템 내의 데이터 통신을 이해하는 데 도움을 준다.

명령어의 기본 형식은 다음과 같다.

여기서 `<interface_type>`은 확인하고자 하는 메시지, 서비스, 또는 액션의 타입을 의미한다. 


